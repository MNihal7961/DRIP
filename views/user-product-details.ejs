<%- include('../partials/user-head.ejs') %>
    <%- include('../partials/user-nav.ejs') %>


        <!-- Open product-details -->
        <section>
            <div class="container pb-5">
                <div class="row">
                    <div class="col-lg-5 mt-5">
                        <div class="card mb-3">
                            <img class="card-img img-fluid selected-image" src="/<%=productData.images[0]%>"
                                alt="Card image cap" id="selected-image">
                        </div>
                        <div class="row">

                            <!--Start Carousel Wrapper-->
                            <div id="multi-item-example" class="col-10 carousel slide carousel-multi-item"
                                data-bs-ride="carousel">
                                <!--Start Slides-->
                                <div class="carousel-inner product-links-wap" role="listbox">

                                    <!--First slide-->
                                    <div class="carousel-item active">
                                        <div class="row">
                                            <% productData.images.forEach((image,index)=> { %>
                                                <div class="col-3 thumbnail-image-container"
                                                    data-index="<%= index + 1 %>">

                                                    <img class="border card-img img-fluid .product-img-link thumbnail-image"
                                                        src="/<%= image %>" alt="Product Image 1">

                                                </div>
                                                <% }) %>

                                        </div>
                                    </div>
                                    <!--/.First slide-->
                                </div>
                                <!--End Slides-->
                            </div>
                            <!--End Carousel Wrapper-->

                        </div>
                    </div>
                    <!-- col end -->
                    <div class="col-lg-7 mt-5">
                        <div class="card">
                            <div class="card-body">
                                <h1 class="h2">
                                    <%=productData.title%>
                                </h1>
                                <p class="h3 py-2">₹<%=productData.mrp%>
                                </p>

                                <ul class="list-inline">
                                    <li class="list-inline-item">
                                        <h6>Brand:</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        <p class="text-muted"><strong>
                                                <%=productData.brandName%>
                                            </strong></p>
                                    </li>
                                    <br>
                                    <li class="list-inline-item">
                                        <h6>Category:</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        <p class="text-muted"><strong>
                                                <%=productData.categoryName%>
                                            </strong></p>
                                    </li>
                                </ul>

                                <h6>Description:</h6>
                                <p>
                                    <%=productData.description%>
                                </p>
                                <ul class="list-inline">
                                    <li class="list-inline-item">
                                        <h6>Avaliable Color :</h6>
                                    </li>
                                    <li class="list-inline-item">
                                        <p class="text-muted"><strong>
                                                <%=productData.productColor%>
                                            </strong></p>
                                    </li>
                                </ul>
                                <form action="/user/add/cart/<%=productData._id%>" method="post">
                                    <ul class="list-inline">
                                        <li class="list-inline-item">
                                            <h6>Avaliable Size :</h6>
                                        </li>
                                        <li class="list-inline-item">

                                            <%productData.varient.forEach((data)=> { %>
                                                <input name="size" type="radio" value="<%=data.size%>" required>
                                                <%=data.size%>
                                                    <% }) %>

                                        </li>
                                    </ul>
                                    <div class="row pb-3">
                                        <div class="col d-grid">

                                            <button class="btn btn-success  rounded-pill"
                                               >Add to cart</button>

                                        </div>
                                </form>
                                <div class="col d-grid">
                                    <a href="" class="btn btn-success  rounded-pill">Add to wishlist</a>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
            </div>
        </section>
        <!-- Close  product-details -->


        <!-- Start related-product -->
        <section class="py-5">
            <div class="container">
                <div class="row text-left p-2 pb-3">
                    <h4>Related Products</h4>
                </div>

                <div class="row custom-a">
                    <% relateData.forEach((data)=> { %>

                        <!-- Card 1 -->
                        <div class="col-md-3">

                            <!-- Your Card Content -->
                            <div class="custom-card-container ms-5 mt-5">
                                <a href="#" class="custom-icon-heart"><i class="fa-regular fa-heart"></i></a>

                                <a href=" /user/product/details/<%-data.id%>">
                                    <img class="card-img-top" src="/<%=data.images[0]%>" alt="Card image cap"
                                        height="190px" width="210px">
                                </a>
                                <div class="custom-additional-info ">
                                    <a href=" /user/product/details/<%-data.id%>">
                                        <p>
                                            <%=data.title%>
                                        </p>
                                    </a>
                                    <p class="custom-p">₹ <%=data.mrp%> | 5.0 <i class="fa-solid fa-star"
                                                style="color: #F5D426;"></i></p>

                                </div>
                            </div>

                            <!-- Your Additional Info Content -->

                        </div>


                        <% }) %>
                </div>



            </div>
        </section>
        <!-- End related-products -->
        <!-- Bootstrap JavaScript Libraries -->

        <%- include('../partials/user-foot.ejs') %>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/3.4.1/jquery-migrate.min.js"
                integrity="sha512-KgffulL3mxrOsDicgQWA11O6q6oKeWcV00VxgfJw4TcM8XRQT8Df9EsrYxDf7tpVpfl3qcYD96BpyPvA4d1FDQ=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
                integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>

            <script>
                $(document).ready(function () {

                    $(".thumbnail-image-container").click(function () {

                        var newImageSrc = $(this).find("img").attr("src");

                        $("#selected-image").attr("src", newImageSrc);


                        initializeImageZoom();
                    });


                    initializeImageZoom();
                });

                function initializeImageZoom() {
                    var options = {
                        width: 300,
                        height: 500,
                        zoomWidth: 150,
                        offset: { vertical: 0, horizontal: 10 }
                    };

                    new ImageZoom(document.getElementById("image-container"), options);
                }
            </script>

